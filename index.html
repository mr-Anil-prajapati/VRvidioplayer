<!DOCTYPE html>
<html>
<head>
<title>Video Server</title>

<style>
body{background:#111;color:white;text-align:center;font-family:Arial;}
video{width:80%;margin-top:20px;}
a{
 display:block;
 margin:5px;
 padding:10px;
 background:#222;
 color:white;
 text-decoration:none;
 cursor:pointer;
}
</style>
</head>

<body>

<h2>Video List Player</h2>

<div id="list"></div>

<video id="player" controls></video>

<script>

fetch("./")
.then(r => r.text())
.then(data => {

    let matches = data.match(/href="([^"]+\.mp4)"/g);

    let list=document.getElementById("list");

    if(matches){
        matches.forEach(item => {

            let file=item.replace('href="','').replace('"','');

            let a=document.createElement("a");
            a.innerText=file;

            a.onclick=function(){
                document.getElementById("player").src=file;
            }

            list.appendChild(a);

        });
    }

});

</script>

</body>
</html>
